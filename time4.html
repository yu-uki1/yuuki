<!doctype html>

<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Quadräruhr</title>
  <style>
    :root{
      --bg:#0b0f14;
      --muted:#6b7280;
      --color-0:#4b5563; /* grau */
      --color-1:#8b5cf6; /* lila */
      --color-2:#ef4444; /* rot */
      --color-3:#ffffff; /* weiß */
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#071018);color:#e6eef8}
    .wrap{max-width:920px;margin:32px auto;padding:24px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:12px;box-shadow:0 6px 30px rgba(2,6,23,0.7)}
    h1{margin:0 0 18px;font-size:20px;font-weight:600}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .row{display:flex;align-items:center;gap:16px;padding:10px 6px;border-radius:10px}
    .label{width:120px;flex:0 0 120px;font-size:14px;color:var(--muted)}
    .quats{display:flex;gap:8px;align-items:center}
    .quat{width:18px;height:28px;border-radius:6px;background:var(--color-0);box-shadow:inset 0 -3px 6px rgba(0,0,0,0.6)}
    .quat.val1{background:var(--color-1)}
    .quat.val2{background:var(--color-2)}
    .quat.val3{background:var(--color-3)}
    @media (max-width:700px){.label{width:96px;font-size:13px}.quat{width:14px;height:24px}}
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <h1>Quadräruhr</h1>
    <p class="lead">Quadrär ist witzig</p><div id="clock"></div>

  </div>  <script>
    // Stellen in Basis 4
    const layout = [
      {key:'Jahr', quats:8},      // 4^8 = 65536 > 9999
      {key:'Monat', quats:2},     // 4^2 = 16 > 12
      {key:'Tag', quats:3},       // 4^3 = 64 > 31
      {key:'Stunde', quats:3},    // 4^3 = 64 > 23
      {key:'Minute', quats:3},    // 4^3 = 64 > 59
      {key:'Sekunde', quats:3},   // 4^3 = 64 > 59
      {key:'Millisek.', quats:5}  // 4^5 = 1024 > 999
    ];

    const clock = document.getElementById('clock');
    layout.forEach(sec => {
      const row = document.createElement('div'); row.className='row';
      const label = document.createElement('div'); label.className='label'; label.textContent=sec.key;
      const quatsDiv = document.createElement('div'); quatsDiv.className='quats'; quatsDiv.dataset.quats = sec.quats;
      for(let i=0;i<sec.quats;i++){
        const q = document.createElement('div'); q.className='quat';
        q.dataset.pos = sec.quats - 1 - i; // höchster Stellenwert links
        quatsDiv.appendChild(q);
      }
      row.appendChild(label); row.appendChild(quatsDiv);
      clock.appendChild(row);
    });

    function numberToQuats(n, quats){
      const arr = new Array(quats).fill(0);
      let val = n;
      for(let i=0;i<quats;i++){
        arr[i] = val % 4;
        val = Math.floor(val/4);
      }
      return arr; // little-endian
    }

    function update(){
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth()+1;
      const day = now.getDate();
      const hour = now.getHours();
      const minute = now.getMinutes();
      const second = now.getSeconds();
      const ms = now.getMilliseconds();

      const values = [year, month, day, hour, minute, second, ms];

      const rows = clock.querySelectorAll('.quats');
      rows.forEach((quatsDiv, idx)=>{
        const quatsCount = Number(quatsDiv.dataset.quats);
        const val = values[idx];
        const quats = numberToQuats(val, quatsCount);
        quatsDiv.querySelectorAll('.quat').forEach(qEl=>{
          const pos = Number(qEl.dataset.pos);
          const quatVal = quats[pos] || 0;
          qEl.className = 'quat';
          if(quatVal===1) qEl.classList.add('val1');
          else if(quatVal===2) qEl.classList.add('val2');
          else if(quatVal===3) qEl.classList.add('val3');
        });
      });
    }

    function tick(){ update(); requestAnimationFrame(tick); }
    tick();
  </script></body>
</html>
